---
import Header from '@/components/Header.astro'
import Footer from '@/components/Footer.astro'
import { ViewTransitions } from 'astro:transitions'
import config from 'urodele.config'
import '../styles.css'
import '../styles/task-list.css'

interface Props {
  title?: string
  description?: string
  showFooter?: boolean
}

const { title, description, showFooter = true } = Astro.props
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="144x144"
      href="/favicon.png"
    />
    <meta
      name="apple-mobile-web-app-capable"
      content="yes"
    />
    <meta
      name="mobile-web-app-capable"
      content="yes"
    />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta
      name="apple-mobile-web-app-title"
      content={config.head.brand}
    />
    <meta
      name="msapplication-TileColor"
      content="#000000"
    />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <meta
      name="description"
      content={description || config.head.description}
    />
    <meta
      name="generator"
      content={Astro.generator}
    />
    <title>{title || config.head.title}</title>
    <ViewTransitions />
    <script is:inline>
      console.log('Huxzhi Blog - Built with Astro + CodeMirror + GitHub API')
    </script>
  </head>
  <body>
    <!-- Header Navigation (includes Auth) -->
    <Header />

    <!-- Main Content (provided by child layouts) -->
    <div
      class="min-h-screen"
      style="background-color: var(--color-bg);"
    >
      <div
        class="grid mx-auto gap-6 py-6 px-4 md:grid-cols-[12fr_25fr] md:max-w-5xl xl:grid-cols-[23fr_54fr_23fr] xl:max-w-7xl"
      >
        <slot />
      </div>
    </div>

    <!-- Footer -->
    {showFooter && <Footer />}
  </body>
</html>
