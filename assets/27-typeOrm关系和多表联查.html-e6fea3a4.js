const n=JSON.parse(`{"key":"v-3e6f84d9","path":"/code/nest-js/27-typeOrm%E5%85%B3%E7%B3%BB%E5%92%8C%E5%A4%9A%E8%A1%A8%E8%81%94%E6%9F%A5.html","title":"27-typeOrm关系和多表联查","lang":"zh-CN","frontmatter":{"date":"2023-02-04 17:04","title":"27-typeOrm关系和多表联查","description":"在我们开始的过程中，肯定不会把数据存在一个表里面，我们会进行分表，把数据分开存，然后通过关联关系，联合查询。 typeOrm 文档 &nbsp;一对一 | TypeORM 中文文档 前端代码 前端代码还是复用上一章的 增加了一个添加 Tag &lt;template&gt; &lt;div class=\\"wraps\\"&gt; &lt;div&gt; &lt;el-input v-model=\\"search.keyWord\\" style=\\"width:300px;\\"&gt;&lt;/el-input&gt; &lt;el-button @click=\\"init\\" style=\\"margin-left:10px;\\"&gt;搜索&lt;/el-button&gt; &lt;el-button @click=\\"openDialog\\" type=\\"primary\\" style=\\"margin-left:10px;\\"&gt;添加&lt;/el-button&gt; &lt;/div&gt; &lt;el-table border :data=\\"tableData\\" style=\\"width: 100%;margin-top: 30px;\\"&gt; &lt;el-table-column prop=\\"name\\" label=\\"名字\\" /&gt; &lt;el-table-column prop=\\"desc\\" label=\\"描述\\" /&gt; &lt;el-table-column prop=\\"id\\" label=\\"id\\" /&gt; &lt;el-table-column&gt; &lt;template #default=\\"scope\\"&gt; &lt;el-button @click=\\"edit(scope.row)\\"&gt;编辑&lt;/el-button&gt; &lt;el-button @click=\\"deleteRow(scope.row)\\"&gt;删除&lt;/el-button&gt; &lt;el-button @click=\\"(isShowTag = true,row = scope.row)\\"&gt;添加tag&lt;/el-button&gt; &lt;/template&gt; &lt;/el-table-column&gt; &lt;/el-table&gt; &lt;el-pagination @current-change=\\"change\\" style=\\"float:right;margin-top:10px;\\" background layout=\\"prev, pager, next\\" :total=\\"total\\" /&gt; &lt;/div&gt; &lt;el-dialog v-model=\\"dialogVisible\\" title=\\"弹框\\" width=\\"50%\\"&gt; &lt;el-form :model=\\"form\\"&gt; &lt;el-form-item prop=\\"name\\" label=\\"名称\\"&gt; &lt;el-input v-model=\\"form.name\\" placeholder=\\"名称\\" /&gt; &lt;/el-form-item&gt; &lt;el-form-item prop=\\"desc\\" label=\\"描述\\"&gt; &lt;el-input v-model=\\"form.desc\\" placeholder=\\"描述\\"&gt; &lt;/el-input&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;template #footer&gt; &lt;span class=\\"dialog-footer\\"&gt; &lt;el-button @click=\\"close\\"&gt;关闭&lt;/el-button&gt; &lt;el-button type=\\"primary\\" @click=\\"save\\"&gt; 保存 &lt;/el-button&gt; &lt;/span&gt; &lt;/template&gt; &lt;/el-dialog&gt; &lt;el-dialog v-model=\\"isShowTag\\" title=\\"添加tag\\"&gt; &lt;el-select style=\\"width:100%\\" v-model=\\"tags\\" multiple&gt; &lt;el-option value=\\"tag1\\"&gt;tag1&lt;/el-option&gt; &lt;el-option value=\\"tag2\\"&gt;tag2&lt;/el-option&gt; &lt;el-option value=\\"tag3\\"&gt;tag3&lt;/el-option&gt; &lt;/el-select&gt; &lt;template #footer&gt; &lt;el-button @click=\\"addTa\\" type=\\"primary\\"&gt;确定&lt;/el-button&gt; &lt;/template&gt; &lt;/el-dialog&gt; &lt;/template&gt; &lt;script setup lang='ts'&gt; import { ref, reactive } from 'vue' import type { FormInstance } from 'element-plus' import { addUser, updateUser, delUser, getList, addTags } from '@/server' const isShowTag = ref&lt;boolean&gt;(false) const tags = ref&lt;string[]&gt;([]) const total = ref&lt;number&gt;(0) const row = ref&lt;{ id?: number, name?: string, desc?: string, createTime?: Date }&gt;({}) const addTa = async () =&gt; { const res = await addTags({ tags: tags.value, userId: row.value.id }) isShowTag.value = false; tags.value = []; } //搜索框 const search = reactive({ keyWord: \\"\\", page: 1, pageSize: 10 }) //表单 const form = reactive({ name: \\"\\", desc: \\"\\", id: 0 }) //清空数据 const resetForm = reactive({ ...form }) //表格数据 const tableData = ref([]) //弹框开关 const dialogVisible = ref&lt;boolean&gt;(false) const openDialog = () =&gt; { dialogVisible.value = true; Object.assign(form, resetForm) } //初始化表格数据 const init = async () =&gt; { const list = await getList(search) tableData.value = list?.data ?? []; total.value = list?.total ?? 0 } init() const change = (page) =&gt; { search.page = page; init() } //保存 和修改 表格数据 const save = async () =&gt; { if (form.id) { await updateUser(form) } else { await addUser(form) } close() init() } //删除表格数据 const deleteRow = async (row) =&gt; { await delUser({ id: row.id }) init() } //获取 详情 const edit = (row: any) =&gt; { dialogVisible.value = true; Object.assign(form, row) } //关闭弹框 const close = () =&gt; { dialogVisible.value = false; } &lt;/script&gt; &lt;style lang='less'&gt; * { padding: 0; margin: 0; } html, body { background: #ccc; } .wraps { height: 100vh; padding: 30px; } &lt;/style&gt;","head":[["meta",{"property":"og:url","content":"https://huxzhi.github.io/code/nest-js/27-typeOrm%E5%85%B3%E7%B3%BB%E5%92%8C%E5%A4%9A%E8%A1%A8%E8%81%94%E6%9F%A5.html"}],["meta",{"property":"og:site_name","content":"Huxzhiの小站"}],["meta",{"property":"og:title","content":"27-typeOrm关系和多表联查"}],["meta",{"property":"og:description","content":"在我们开始的过程中，肯定不会把数据存在一个表里面，我们会进行分表，把数据分开存，然后通过关联关系，联合查询。 typeOrm 文档 &nbsp;一对一 | TypeORM 中文文档 前端代码 前端代码还是复用上一章的 增加了一个添加 Tag &lt;template&gt; &lt;div class=\\"wraps\\"&gt; &lt;div&gt; &lt;el-input v-model=\\"search.keyWord\\" style=\\"width:300px;\\"&gt;&lt;/el-input&gt; &lt;el-button @click=\\"init\\" style=\\"margin-left:10px;\\"&gt;搜索&lt;/el-button&gt; &lt;el-button @click=\\"openDialog\\" type=\\"primary\\" style=\\"margin-left:10px;\\"&gt;添加&lt;/el-button&gt; &lt;/div&gt; &lt;el-table border :data=\\"tableData\\" style=\\"width: 100%;margin-top: 30px;\\"&gt; &lt;el-table-column prop=\\"name\\" label=\\"名字\\" /&gt; &lt;el-table-column prop=\\"desc\\" label=\\"描述\\" /&gt; &lt;el-table-column prop=\\"id\\" label=\\"id\\" /&gt; &lt;el-table-column&gt; &lt;template #default=\\"scope\\"&gt; &lt;el-button @click=\\"edit(scope.row)\\"&gt;编辑&lt;/el-button&gt; &lt;el-button @click=\\"deleteRow(scope.row)\\"&gt;删除&lt;/el-button&gt; &lt;el-button @click=\\"(isShowTag = true,row = scope.row)\\"&gt;添加tag&lt;/el-button&gt; &lt;/template&gt; &lt;/el-table-column&gt; &lt;/el-table&gt; &lt;el-pagination @current-change=\\"change\\" style=\\"float:right;margin-top:10px;\\" background layout=\\"prev, pager, next\\" :total=\\"total\\" /&gt; &lt;/div&gt; &lt;el-dialog v-model=\\"dialogVisible\\" title=\\"弹框\\" width=\\"50%\\"&gt; &lt;el-form :model=\\"form\\"&gt; &lt;el-form-item prop=\\"name\\" label=\\"名称\\"&gt; &lt;el-input v-model=\\"form.name\\" placeholder=\\"名称\\" /&gt; &lt;/el-form-item&gt; &lt;el-form-item prop=\\"desc\\" label=\\"描述\\"&gt; &lt;el-input v-model=\\"form.desc\\" placeholder=\\"描述\\"&gt; &lt;/el-input&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;template #footer&gt; &lt;span class=\\"dialog-footer\\"&gt; &lt;el-button @click=\\"close\\"&gt;关闭&lt;/el-button&gt; &lt;el-button type=\\"primary\\" @click=\\"save\\"&gt; 保存 &lt;/el-button&gt; &lt;/span&gt; &lt;/template&gt; &lt;/el-dialog&gt; &lt;el-dialog v-model=\\"isShowTag\\" title=\\"添加tag\\"&gt; &lt;el-select style=\\"width:100%\\" v-model=\\"tags\\" multiple&gt; &lt;el-option value=\\"tag1\\"&gt;tag1&lt;/el-option&gt; &lt;el-option value=\\"tag2\\"&gt;tag2&lt;/el-option&gt; &lt;el-option value=\\"tag3\\"&gt;tag3&lt;/el-option&gt; &lt;/el-select&gt; &lt;template #footer&gt; &lt;el-button @click=\\"addTa\\" type=\\"primary\\"&gt;确定&lt;/el-button&gt; &lt;/template&gt; &lt;/el-dialog&gt; &lt;/template&gt; &lt;script setup lang='ts'&gt; import { ref, reactive } from 'vue' import type { FormInstance } from 'element-plus' import { addUser, updateUser, delUser, getList, addTags } from '@/server' const isShowTag = ref&lt;boolean&gt;(false) const tags = ref&lt;string[]&gt;([]) const total = ref&lt;number&gt;(0) const row = ref&lt;{ id?: number, name?: string, desc?: string, createTime?: Date }&gt;({}) const addTa = async () =&gt; { const res = await addTags({ tags: tags.value, userId: row.value.id }) isShowTag.value = false; tags.value = []; } //搜索框 const search = reactive({ keyWord: \\"\\", page: 1, pageSize: 10 }) //表单 const form = reactive({ name: \\"\\", desc: \\"\\", id: 0 }) //清空数据 const resetForm = reactive({ ...form }) //表格数据 const tableData = ref([]) //弹框开关 const dialogVisible = ref&lt;boolean&gt;(false) const openDialog = () =&gt; { dialogVisible.value = true; Object.assign(form, resetForm) } //初始化表格数据 const init = async () =&gt; { const list = await getList(search) tableData.value = list?.data ?? []; total.value = list?.total ?? 0 } init() const change = (page) =&gt; { search.page = page; init() } //保存 和修改 表格数据 const save = async () =&gt; { if (form.id) { await updateUser(form) } else { await addUser(form) } close() init() } //删除表格数据 const deleteRow = async (row) =&gt; { await delUser({ id: row.id }) init() } //获取 详情 const edit = (row: any) =&gt; { dialogVisible.value = true; Object.assign(form, row) } //关闭弹框 const close = () =&gt; { dialogVisible.value = false; } &lt;/script&gt; &lt;style lang='less'&gt; * { padding: 0; margin: 0; } html, body { background: #ccc; } .wraps { height: 100vh; padding: 30px; } &lt;/style&gt;"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://huxzhi.github.io/"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-03-03T17:02:37.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"27-typeOrm关系和多表联查"}],["meta",{"property":"article:published_time","content":"2023-02-04T17:04:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-03-03T17:02:37.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"27-typeOrm关系和多表联查\\",\\"image\\":[\\"https://huxzhi.github.io/\\"],\\"datePublished\\":\\"2023-02-04T17:04:00.000Z\\",\\"dateModified\\":\\"2023-03-03T17:02:37.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"前端代码","slug":"前端代码","link":"#前端代码","children":[]},{"level":2,"title":"后端 Nestjs","slug":"后端-nestjs","link":"#后端-nestjs","children":[]},{"level":2,"title":"OneToMany 和  ManyToOne","slug":"onetomany-和-manytoone","link":"#onetomany-和-manytoone","children":[{"level":3,"title":"联合查询需要增加    relations","slug":"联合查询需要增加-relations","link":"#联合查询需要增加-relations","children":[]}]}],"git":{"createdTime":1677862957000,"updatedTime":1677862957000,"contributors":[{"name":"Huxzhi","email":"huxzhi@gmail.com","commits":1}]},"readingTime":{"minutes":4.96,"words":1487},"filePathRelative":"code/nest-js/27-typeOrm关系和多表联查.md","localizedDate":"2023年2月4日","excerpt":"<p>在我们开始的过程中，肯定不会把数据存在一个表里面，我们会进行分表，把数据分开存，然后通过关联关系，联合查询。</p>\\n<p>typeOrm 文档 &nbsp;<a href=\\"https://typeorm.biunav.com/zh/one-to-one-relations.html\\" title=\\"一对一 | TypeORM 中文文档\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">一对一 | TypeORM 中文文档</a></p>\\n<h2> 前端代码</h2>\\n<p>前端代码还是复用上一章的 增加了一个添加 Tag</p>\\n<div class=\\"language-vue line-numbers-mode\\" data-ext=\\"vue\\"><pre class=\\"language-vue\\"><code><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>template</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>div</span> <span class=\\"token attr-name\\">class</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>wraps<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>div</span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-input</span> <span class=\\"token attr-name\\">v-model</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>search.keyWord<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token special-attr\\"><span class=\\"token attr-name\\">style</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span><span class=\\"token value css language-css\\"><span class=\\"token property\\">width</span><span class=\\"token punctuation\\">:</span>300px<span class=\\"token punctuation\\">;</span></span><span class=\\"token punctuation\\">\\"</span></span></span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-input</span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-button</span> <span class=\\"token attr-name\\">@click</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>init<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token special-attr\\"><span class=\\"token attr-name\\">style</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span><span class=\\"token value css language-css\\"><span class=\\"token property\\">margin-left</span><span class=\\"token punctuation\\">:</span>10px<span class=\\"token punctuation\\">;</span></span><span class=\\"token punctuation\\">\\"</span></span></span><span class=\\"token punctuation\\">&gt;</span></span>搜索<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-button</span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-button</span> <span class=\\"token attr-name\\">@click</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>openDialog<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">type</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>primary<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token special-attr\\"><span class=\\"token attr-name\\">style</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span><span class=\\"token value css language-css\\"><span class=\\"token property\\">margin-left</span><span class=\\"token punctuation\\">:</span>10px<span class=\\"token punctuation\\">;</span></span><span class=\\"token punctuation\\">\\"</span></span></span><span class=\\"token punctuation\\">&gt;</span></span>添加<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-button</span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>div</span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-table</span> <span class=\\"token attr-name\\">border</span> <span class=\\"token attr-name\\">:data</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>tableData<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token special-attr\\"><span class=\\"token attr-name\\">style</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span><span class=\\"token value css language-css\\"><span class=\\"token property\\">width</span><span class=\\"token punctuation\\">:</span> 100%<span class=\\"token punctuation\\">;</span><span class=\\"token property\\">margin-top</span><span class=\\"token punctuation\\">:</span> 30px<span class=\\"token punctuation\\">;</span></span><span class=\\"token punctuation\\">\\"</span></span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-table-column</span> <span class=\\"token attr-name\\">prop</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>name<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">label</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>名字<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">/&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-table-column</span> <span class=\\"token attr-name\\">prop</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>desc<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">label</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>描述<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">/&gt;</span></span>\\n\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-table-column</span> <span class=\\"token attr-name\\">prop</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>id<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">label</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>id<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">/&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-table-column</span><span class=\\"token punctuation\\">&gt;</span></span>\\n                <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>template</span> <span class=\\"token attr-name\\">#default</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>scope<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n                    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-button</span> <span class=\\"token attr-name\\">@click</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>edit(scope.row)<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>编辑<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-button</span><span class=\\"token punctuation\\">&gt;</span></span>\\n                    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-button</span> <span class=\\"token attr-name\\">@click</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>deleteRow(scope.row)<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>删除<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-button</span><span class=\\"token punctuation\\">&gt;</span></span>\\n                    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-button</span> <span class=\\"token attr-name\\">@click</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>(isShowTag = true,row = scope.row)<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>添加tag<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-button</span><span class=\\"token punctuation\\">&gt;</span></span>\\n                <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>template</span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-table-column</span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-table</span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-pagination</span> <span class=\\"token attr-name\\">@current-change</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>change<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token special-attr\\"><span class=\\"token attr-name\\">style</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span><span class=\\"token value css language-css\\"><span class=\\"token property\\">float</span><span class=\\"token punctuation\\">:</span>right<span class=\\"token punctuation\\">;</span><span class=\\"token property\\">margin-top</span><span class=\\"token punctuation\\">:</span>10px<span class=\\"token punctuation\\">;</span></span><span class=\\"token punctuation\\">\\"</span></span></span> <span class=\\"token attr-name\\">background</span>\\n            <span class=\\"token attr-name\\">layout</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>prev, pager, next<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">:total</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>total<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">/&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>div</span><span class=\\"token punctuation\\">&gt;</span></span>\\n\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-dialog</span> <span class=\\"token attr-name\\">v-model</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>dialogVisible<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">title</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>弹框<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">width</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>50%<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-form</span> <span class=\\"token attr-name\\">:model</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>form<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-form-item</span> <span class=\\"token attr-name\\">prop</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>name<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">label</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>名称<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n                <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-input</span> <span class=\\"token attr-name\\">v-model</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>form.name<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">placeholder</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>名称<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">/&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-form-item</span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-form-item</span> <span class=\\"token attr-name\\">prop</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>desc<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">label</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>描述<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n                <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-input</span> <span class=\\"token attr-name\\">v-model</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>form.desc<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">placeholder</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>描述<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n                <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-input</span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-form-item</span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-form</span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>template</span> <span class=\\"token attr-name\\">#footer</span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>span</span> <span class=\\"token attr-name\\">class</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>dialog-footer<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n                <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-button</span> <span class=\\"token attr-name\\">@click</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>close<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>关闭<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-button</span><span class=\\"token punctuation\\">&gt;</span></span>\\n                <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-button</span> <span class=\\"token attr-name\\">type</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>primary<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">@click</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>save<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n                    保存\\n                <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-button</span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>span</span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>template</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-dialog</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-dialog</span> <span class=\\"token attr-name\\">v-model</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>isShowTag<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">title</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>添加tag<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-select</span> <span class=\\"token special-attr\\"><span class=\\"token attr-name\\">style</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span><span class=\\"token value css language-css\\"><span class=\\"token property\\">width</span><span class=\\"token punctuation\\">:</span>100%</span><span class=\\"token punctuation\\">\\"</span></span></span> <span class=\\"token attr-name\\">v-model</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>tags<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">multiple</span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-option</span> <span class=\\"token attr-name\\">value</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>tag1<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>tag1<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-option</span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-option</span> <span class=\\"token attr-name\\">value</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>tag2<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>tag2<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-option</span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-option</span> <span class=\\"token attr-name\\">value</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>tag3<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>tag3<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-option</span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-select</span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>template</span> <span class=\\"token attr-name\\">#footer</span><span class=\\"token punctuation\\">&gt;</span></span>\\n            <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-button</span> <span class=\\"token attr-name\\">@click</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>addTa<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">type</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>primary<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>确定<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-button</span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>template</span><span class=\\"token punctuation\\">&gt;</span></span>\\n\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-dialog</span><span class=\\"token punctuation\\">&gt;</span></span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>template</span><span class=\\"token punctuation\\">&gt;</span></span>\\n\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>script</span> <span class=\\"token attr-name\\">setup</span> <span class=\\"token attr-name\\">lang</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">'</span>ts<span class=\\"token punctuation\\">'</span></span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token script\\"><span class=\\"token language-javascript\\">\\n<span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span> ref<span class=\\"token punctuation\\">,</span> reactive <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'vue'</span>\\n<span class=\\"token keyword\\">import</span> type <span class=\\"token punctuation\\">{</span> FormInstance <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'element-plus'</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span> addUser<span class=\\"token punctuation\\">,</span> updateUser<span class=\\"token punctuation\\">,</span> delUser<span class=\\"token punctuation\\">,</span> getList<span class=\\"token punctuation\\">,</span> addTags <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'@/server'</span>\\n<span class=\\"token keyword\\">const</span> isShowTag <span class=\\"token operator\\">=</span> ref<span class=\\"token operator\\">&lt;</span>boolean<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">(</span><span class=\\"token boolean\\">false</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">const</span> tags <span class=\\"token operator\\">=</span> ref<span class=\\"token operator\\">&lt;</span>string<span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span><span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">const</span> total <span class=\\"token operator\\">=</span> ref<span class=\\"token operator\\">&lt;</span>number<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">0</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">const</span> row <span class=\\"token operator\\">=</span> ref<span class=\\"token operator\\">&lt;</span><span class=\\"token punctuation\\">{</span>\\n    id<span class=\\"token operator\\">?</span><span class=\\"token operator\\">:</span> number<span class=\\"token punctuation\\">,</span>\\n    name<span class=\\"token operator\\">?</span><span class=\\"token operator\\">:</span> string<span class=\\"token punctuation\\">,</span>\\n    desc<span class=\\"token operator\\">?</span><span class=\\"token operator\\">:</span> string<span class=\\"token punctuation\\">,</span>\\n    createTime<span class=\\"token operator\\">?</span><span class=\\"token operator\\">:</span> Date\\n<span class=\\"token punctuation\\">}</span><span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">addTa</span> <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">async</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token keyword\\">const</span> res <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">await</span> <span class=\\"token function\\">addTags</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token literal-property property\\">tags</span><span class=\\"token operator\\">:</span> tags<span class=\\"token punctuation\\">.</span>value<span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token literal-property property\\">userId</span><span class=\\"token operator\\">:</span> row<span class=\\"token punctuation\\">.</span>value<span class=\\"token punctuation\\">.</span>id\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n    isShowTag<span class=\\"token punctuation\\">.</span>value <span class=\\"token operator\\">=</span> <span class=\\"token boolean\\">false</span><span class=\\"token punctuation\\">;</span>\\n    tags<span class=\\"token punctuation\\">.</span>value <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token comment\\">//搜索框</span>\\n<span class=\\"token keyword\\">const</span> search <span class=\\"token operator\\">=</span> <span class=\\"token function\\">reactive</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token literal-property property\\">keyWord</span><span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"\\"</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token literal-property property\\">page</span><span class=\\"token operator\\">:</span> <span class=\\"token number\\">1</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token literal-property property\\">pageSize</span><span class=\\"token operator\\">:</span> <span class=\\"token number\\">10</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token comment\\">//表单</span>\\n<span class=\\"token keyword\\">const</span> form <span class=\\"token operator\\">=</span> <span class=\\"token function\\">reactive</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token literal-property property\\">name</span><span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"\\"</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token literal-property property\\">desc</span><span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"\\"</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token literal-property property\\">id</span><span class=\\"token operator\\">:</span> <span class=\\"token number\\">0</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token comment\\">//清空数据</span>\\n<span class=\\"token keyword\\">const</span> resetForm <span class=\\"token operator\\">=</span> <span class=\\"token function\\">reactive</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span> <span class=\\"token operator\\">...</span>form <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token comment\\">//表格数据</span>\\n<span class=\\"token keyword\\">const</span> tableData <span class=\\"token operator\\">=</span> <span class=\\"token function\\">ref</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token comment\\">//弹框开关</span>\\n<span class=\\"token keyword\\">const</span> dialogVisible <span class=\\"token operator\\">=</span> ref<span class=\\"token operator\\">&lt;</span>boolean<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">(</span><span class=\\"token boolean\\">false</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">openDialog</span> <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    dialogVisible<span class=\\"token punctuation\\">.</span>value <span class=\\"token operator\\">=</span> <span class=\\"token boolean\\">true</span><span class=\\"token punctuation\\">;</span>\\n    Object<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">assign</span><span class=\\"token punctuation\\">(</span>form<span class=\\"token punctuation\\">,</span> resetForm<span class=\\"token punctuation\\">)</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token comment\\">//初始化表格数据</span>\\n<span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">init</span> <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">async</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token keyword\\">const</span> list <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">await</span> <span class=\\"token function\\">getList</span><span class=\\"token punctuation\\">(</span>search<span class=\\"token punctuation\\">)</span>\\n    tableData<span class=\\"token punctuation\\">.</span>value <span class=\\"token operator\\">=</span> list<span class=\\"token operator\\">?.</span>data <span class=\\"token operator\\">??</span> <span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">;</span>\\n    total<span class=\\"token punctuation\\">.</span>value <span class=\\"token operator\\">=</span> list<span class=\\"token operator\\">?.</span>total <span class=\\"token operator\\">??</span> <span class=\\"token number\\">0</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token function\\">init</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">change</span> <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">page</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    search<span class=\\"token punctuation\\">.</span>page <span class=\\"token operator\\">=</span> page<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token function\\">init</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token comment\\">//保存 和修改 表格数据</span>\\n<span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">save</span> <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">async</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span>form<span class=\\"token punctuation\\">.</span>id<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">await</span> <span class=\\"token function\\">updateUser</span><span class=\\"token punctuation\\">(</span>form<span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">else</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">await</span> <span class=\\"token function\\">addUser</span><span class=\\"token punctuation\\">(</span>form<span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token function\\">close</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token function\\">init</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token comment\\">//删除表格数据</span>\\n<span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">deleteRow</span> <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">async</span> <span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">row</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token keyword\\">await</span> <span class=\\"token function\\">delUser</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span> <span class=\\"token literal-property property\\">id</span><span class=\\"token operator\\">:</span> row<span class=\\"token punctuation\\">.</span>id <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token function\\">init</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token comment\\">//获取 详情</span>\\n<span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">edit</span> <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\"><span class=\\"token literal-property property\\">row</span><span class=\\"token operator\\">:</span> any</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    dialogVisible<span class=\\"token punctuation\\">.</span>value <span class=\\"token operator\\">=</span> <span class=\\"token boolean\\">true</span><span class=\\"token punctuation\\">;</span>\\n    Object<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">assign</span><span class=\\"token punctuation\\">(</span>form<span class=\\"token punctuation\\">,</span> row<span class=\\"token punctuation\\">)</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token comment\\">//关闭弹框</span>\\n<span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">close</span> <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    dialogVisible<span class=\\"token punctuation\\">.</span>value <span class=\\"token operator\\">=</span> <span class=\\"token boolean\\">false</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n</span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>script</span><span class=\\"token punctuation\\">&gt;</span></span>\\n\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>style</span>  <span class=\\"token attr-name\\">lang</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">'</span>less<span class=\\"token punctuation\\">'</span></span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token style\\"><span class=\\"token language-css\\">\\n<span class=\\"token selector\\">*</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token property\\">padding</span><span class=\\"token punctuation\\">:</span> 0<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">margin</span><span class=\\"token punctuation\\">:</span> 0<span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token selector\\">html,\\nbody</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token property\\">background</span><span class=\\"token punctuation\\">:</span> #ccc<span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token selector\\">.wraps</span> <span class=\\"token punctuation\\">{</span>\\n\\n    <span class=\\"token property\\">height</span><span class=\\"token punctuation\\">:</span> 100vh<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">padding</span><span class=\\"token punctuation\\">:</span> 30px<span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n</span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>style</span><span class=\\"token punctuation\\">&gt;</span></span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{},"autoDesc":true}`);export{n as data};
