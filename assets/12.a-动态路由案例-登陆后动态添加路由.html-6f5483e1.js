const n=JSON.parse(`{"key":"v-46ecc712","path":"/code/vue/vue3-router4/12.a-%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E6%A1%88%E4%BE%8B-%E7%99%BB%E9%99%86%E5%90%8E%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E8%B7%AF%E7%94%B1.html","title":"12.a-动态路由案例-登陆后动态添加路由","lang":"zh-CN","frontmatter":{"category":["vue3"],"date":"2023-01-16 18:33","title":"12.a-动态路由案例-登陆后动态添加路由","updated":"2023-05-08 09:12","description":"模拟管理员登陆，动态添加路由 前端接收数据 需要安装 npm install axios -S src/views/Login.vue &lt;template&gt; &lt;!-- &lt;loadingBar&gt;&lt;/loadingBar&gt; 这里只是看看效果，最好是放到 全局导航守卫-后置守卫 !!!--&gt; &lt;div class=\\"login\\"&gt; &lt;el-form ref=\\"form\\" :rules=\\"rules\\" :model=\\"formInline\\" class=\\"demo-form-inline\\"&gt; &lt;el-form-item prop=\\"user\\" label=\\"账号：\\"&gt; &lt;el-input v-model=\\"formInline.user\\" placeholder=\\"请输入账号\\" /&gt; &lt;/el-form-item&gt; &lt;el-form-item prop=\\"password\\" label=\\"密码：\\"&gt; &lt;el-input v-model=\\"formInline.password\\" placeholder=\\"请输入密码\\" type=\\"password\\" /&gt; &lt;/el-form-item&gt; &lt;el-form-item&gt; &lt;el-button type=\\"primary\\" @click=\\"onSubmit\\"&gt;登陆&lt;/el-button&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;/div&gt; &lt;/template&gt; &lt;script lang=\\"ts\\" setup&gt; import { reactive, ref } from 'vue' import { useRouter } from 'vue-router' // import router from '../router'; import { ElMessage, FormRules, FormInstance } from 'element-plus' import loadingBar from '../components/loadingBar.vue'; import axios from 'axios' const router = useRouter() const formInline = reactive({ user: '', password: '', }) const form = ref&lt;FormInstance&gt;() const rules: FormRules = reactive({ user: [{ required: true, message: \\"请输入账号\\", type: \\"string\\" }], password: [{ required: true, message: \\"请输入密码\\", type: \\"string\\" }] }) const onSubmit = () =&gt; { console.log('submit!', form.value) form.value?.validate((validate) =&gt; { if (validate) { initRouter() // router.push('/index') localStorage.setItem('token', '1') } else { ElMessage.error('请输入完整') } }) } /** * 一般是单独的ts页面编写，这里合起来了 */ const initRouter = async () =&gt; { const result = await axios.get('http://localhost:9999/login', { params: formInline }); const data = result.data //连起来不让写 //要对结果作判断，返回路由还是错误提示 if (data.code === 400) { alert(data.mesage) return } //判断有没有数据 data.route.forEach((v: any) =&gt; { router.addRoute({ path: v.path, name: v.name, //这儿不能使用@ component: () =&gt; import(\`@/views/\${v.component}\`) }) router.push('/index') }) console.log(router.getRoutes()); } &lt;/script&gt; &lt;style lang='less' &gt; .login { height: 100%; display: flex; justify-content: center; align-items: center; } &lt;/style&gt;","head":[["meta",{"property":"og:url","content":"https://huxzhi.github.io/code/vue/vue3-router4/12.a-%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E6%A1%88%E4%BE%8B-%E7%99%BB%E9%99%86%E5%90%8E%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E8%B7%AF%E7%94%B1.html"}],["meta",{"property":"og:site_name","content":"Huxzhiの小站"}],["meta",{"property":"og:title","content":"12.a-动态路由案例-登陆后动态添加路由"}],["meta",{"property":"og:description","content":"模拟管理员登陆，动态添加路由 前端接收数据 需要安装 npm install axios -S src/views/Login.vue &lt;template&gt; &lt;!-- &lt;loadingBar&gt;&lt;/loadingBar&gt; 这里只是看看效果，最好是放到 全局导航守卫-后置守卫 !!!--&gt; &lt;div class=\\"login\\"&gt; &lt;el-form ref=\\"form\\" :rules=\\"rules\\" :model=\\"formInline\\" class=\\"demo-form-inline\\"&gt; &lt;el-form-item prop=\\"user\\" label=\\"账号：\\"&gt; &lt;el-input v-model=\\"formInline.user\\" placeholder=\\"请输入账号\\" /&gt; &lt;/el-form-item&gt; &lt;el-form-item prop=\\"password\\" label=\\"密码：\\"&gt; &lt;el-input v-model=\\"formInline.password\\" placeholder=\\"请输入密码\\" type=\\"password\\" /&gt; &lt;/el-form-item&gt; &lt;el-form-item&gt; &lt;el-button type=\\"primary\\" @click=\\"onSubmit\\"&gt;登陆&lt;/el-button&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;/div&gt; &lt;/template&gt; &lt;script lang=\\"ts\\" setup&gt; import { reactive, ref } from 'vue' import { useRouter } from 'vue-router' // import router from '../router'; import { ElMessage, FormRules, FormInstance } from 'element-plus' import loadingBar from '../components/loadingBar.vue'; import axios from 'axios' const router = useRouter() const formInline = reactive({ user: '', password: '', }) const form = ref&lt;FormInstance&gt;() const rules: FormRules = reactive({ user: [{ required: true, message: \\"请输入账号\\", type: \\"string\\" }], password: [{ required: true, message: \\"请输入密码\\", type: \\"string\\" }] }) const onSubmit = () =&gt; { console.log('submit!', form.value) form.value?.validate((validate) =&gt; { if (validate) { initRouter() // router.push('/index') localStorage.setItem('token', '1') } else { ElMessage.error('请输入完整') } }) } /** * 一般是单独的ts页面编写，这里合起来了 */ const initRouter = async () =&gt; { const result = await axios.get('http://localhost:9999/login', { params: formInline }); const data = result.data //连起来不让写 //要对结果作判断，返回路由还是错误提示 if (data.code === 400) { alert(data.mesage) return } //判断有没有数据 data.route.forEach((v: any) =&gt; { router.addRoute({ path: v.path, name: v.name, //这儿不能使用@ component: () =&gt; import(\`@/views/\${v.component}\`) }) router.push('/index') }) console.log(router.getRoutes()); } &lt;/script&gt; &lt;style lang='less' &gt; .login { height: 100%; display: flex; justify-content: center; align-items: center; } &lt;/style&gt;"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-05-08T02:14:57.000Z"}],["meta",{"property":"article:published_time","content":"2023-01-16T18:33:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-05-08T02:14:57.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"12.a-动态路由案例-登陆后动态添加路由\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-01-16T18:33:00.000Z\\",\\"dateModified\\":\\"2023-05-08T02:14:57.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"前端接收数据","slug":"前端接收数据","link":"#前端接收数据","children":[]},{"level":2,"title":"后端发送数据","slug":"后端发送数据","link":"#后端发送数据","children":[]}],"git":{"createdTime":1677862957000,"updatedTime":1683512097000,"contributors":[{"name":"Huxzhi","email":"huxzhi@gmail.com","commits":4}]},"readingTime":{"minutes":1.58,"words":475},"filePathRelative":"code/vue/vue3-router4/12.a-动态路由案例-登陆后动态添加路由.md","localizedDate":"2023年1月16日","excerpt":"<p>模拟管理员登陆，动态添加路由</p>\\n<h2> 前端接收数据</h2>\\n<p>需要安装 <code>npm install axios -S</code></p>\\n<p>src/views/Login.vue</p>\\n<div class=\\"language-vue line-numbers-mode\\" data-ext=\\"vue\\"><pre class=\\"language-vue\\"><code><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>template</span><span class=\\"token punctuation\\">&gt;</span></span>\\n  <span class=\\"token comment\\">&lt;!-- &lt;loadingBar&gt;&lt;/loadingBar&gt; 这里只是看看效果，最好是放到 全局导航守卫-后置守卫 !!!--&gt;</span>\\n  <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>div</span> <span class=\\"token attr-name\\">class</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>login<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-form</span> <span class=\\"token attr-name\\">ref</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>form<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">:rules</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>rules<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">:model</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>formInline<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">class</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>demo-form-inline<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n      <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-form-item</span> <span class=\\"token attr-name\\">prop</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>user<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">label</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>账号：<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-input</span> <span class=\\"token attr-name\\">v-model</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>formInline.user<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">placeholder</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>请输入账号<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">/&gt;</span></span>\\n      <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-form-item</span><span class=\\"token punctuation\\">&gt;</span></span>\\n      <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-form-item</span> <span class=\\"token attr-name\\">prop</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>password<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">label</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>密码：<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-input</span> <span class=\\"token attr-name\\">v-model</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>formInline.password<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">placeholder</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>请输入密码<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">type</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>password<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">/&gt;</span></span>\\n      <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-form-item</span><span class=\\"token punctuation\\">&gt;</span></span>\\n      <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-form-item</span><span class=\\"token punctuation\\">&gt;</span></span>\\n        <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>el-button</span> <span class=\\"token attr-name\\">type</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>primary<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">@click</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>onSubmit<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>登陆<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-button</span><span class=\\"token punctuation\\">&gt;</span></span>\\n      <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-form-item</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>el-form</span><span class=\\"token punctuation\\">&gt;</span></span>\\n  <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>div</span><span class=\\"token punctuation\\">&gt;</span></span>\\n\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>template</span><span class=\\"token punctuation\\">&gt;</span></span>\\n\\n\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>script</span> <span class=\\"token attr-name\\">lang</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>ts<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">setup</span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token script\\"><span class=\\"token language-javascript\\">\\n<span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span> reactive<span class=\\"token punctuation\\">,</span> ref <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'vue'</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span> useRouter <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'vue-router'</span>\\n<span class=\\"token comment\\">// import router from '../router';</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span> ElMessage<span class=\\"token punctuation\\">,</span> FormRules<span class=\\"token punctuation\\">,</span> FormInstance <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'element-plus'</span>\\n<span class=\\"token keyword\\">import</span> loadingBar <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'../components/loadingBar.vue'</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">import</span> axios <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'axios'</span>\\n<span class=\\"token keyword\\">const</span> router <span class=\\"token operator\\">=</span> <span class=\\"token function\\">useRouter</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n\\n<span class=\\"token keyword\\">const</span> formInline <span class=\\"token operator\\">=</span> <span class=\\"token function\\">reactive</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token literal-property property\\">user</span><span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span><span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token literal-property property\\">password</span><span class=\\"token operator\\">:</span> <span class=\\"token string\\">''</span><span class=\\"token punctuation\\">,</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n\\n\\n<span class=\\"token keyword\\">const</span> form <span class=\\"token operator\\">=</span> ref<span class=\\"token operator\\">&lt;</span>FormInstance<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n\\n<span class=\\"token keyword\\">const</span> <span class=\\"token literal-property property\\">rules</span><span class=\\"token operator\\">:</span> FormRules <span class=\\"token operator\\">=</span> <span class=\\"token function\\">reactive</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token literal-property property\\">user</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token literal-property property\\">required</span><span class=\\"token operator\\">:</span> <span class=\\"token boolean\\">true</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token literal-property property\\">message</span><span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"请输入账号\\"</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token literal-property property\\">type</span><span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"string\\"</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token literal-property property\\">password</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token literal-property property\\">required</span><span class=\\"token operator\\">:</span> <span class=\\"token boolean\\">true</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token literal-property property\\">message</span><span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"请输入密码\\"</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token literal-property property\\">type</span><span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"string\\"</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">]</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n\\n<span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">onSubmit</span> <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n  console<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">log</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'submit!'</span><span class=\\"token punctuation\\">,</span> form<span class=\\"token punctuation\\">.</span>value<span class=\\"token punctuation\\">)</span>\\n  form<span class=\\"token punctuation\\">.</span>value<span class=\\"token operator\\">?.</span><span class=\\"token function\\">validate</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">validate</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span>validate<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n      <span class=\\"token function\\">initRouter</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n\\n      <span class=\\"token comment\\">// router.push('/index')</span>\\n      localStorage<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">setItem</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'token'</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">'1'</span><span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">else</span> <span class=\\"token punctuation\\">{</span>\\n      ElMessage<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">error</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'请输入完整'</span><span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token punctuation\\">}</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token doc-comment comment\\">/**\\n * 一般是单独的ts页面编写，这里合起来了\\n */</span>\\n<span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">initRouter</span> <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">async</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token keyword\\">const</span> result <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">await</span> axios<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">get</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'http://localhost:9999/login'</span><span class=\\"token punctuation\\">,</span> <span class=\\"token punctuation\\">{</span> <span class=\\"token literal-property property\\">params</span><span class=\\"token operator\\">:</span> formInline <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n  <span class=\\"token keyword\\">const</span> data <span class=\\"token operator\\">=</span> result<span class=\\"token punctuation\\">.</span>data <span class=\\"token comment\\">//连起来不让写</span>\\n\\n  <span class=\\"token comment\\">//要对结果作判断，返回路由还是错误提示</span>\\n  <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span>data<span class=\\"token punctuation\\">.</span>code <span class=\\"token operator\\">===</span> <span class=\\"token number\\">400</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token function\\">alert</span><span class=\\"token punctuation\\">(</span>data<span class=\\"token punctuation\\">.</span>mesage<span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token keyword\\">return</span>\\n  <span class=\\"token punctuation\\">}</span>\\n\\n  <span class=\\"token comment\\">//判断有没有数据</span>\\n  data<span class=\\"token punctuation\\">.</span>route<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">forEach</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\"><span class=\\"token literal-property property\\">v</span><span class=\\"token operator\\">:</span> any</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    router<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">addRoute</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n      <span class=\\"token literal-property property\\">path</span><span class=\\"token operator\\">:</span> v<span class=\\"token punctuation\\">.</span>path<span class=\\"token punctuation\\">,</span>\\n      <span class=\\"token literal-property property\\">name</span><span class=\\"token operator\\">:</span> v<span class=\\"token punctuation\\">.</span>name<span class=\\"token punctuation\\">,</span>\\n      <span class=\\"token comment\\">//这儿不能使用@</span>\\n      <span class=\\"token function-variable function\\">component</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token keyword\\">import</span><span class=\\"token punctuation\\">(</span><span class=\\"token template-string\\"><span class=\\"token template-punctuation string\\">\`</span><span class=\\"token string\\">@/views/</span><span class=\\"token interpolation\\"><span class=\\"token interpolation-punctuation punctuation\\">\${</span>v<span class=\\"token punctuation\\">.</span>component<span class=\\"token interpolation-punctuation punctuation\\">}</span></span><span class=\\"token template-punctuation string\\">\`</span></span><span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n    router<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">push</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'/index'</span><span class=\\"token punctuation\\">)</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n\\n  console<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">log</span><span class=\\"token punctuation\\">(</span>router<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getRoutes</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token punctuation\\">}</span>\\n\\n</span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>script</span><span class=\\"token punctuation\\">&gt;</span></span>\\n\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>style</span> <span class=\\"token attr-name\\">lang</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">'</span>less<span class=\\"token punctuation\\">'</span></span> <span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token style\\"><span class=\\"token language-css\\">\\n<span class=\\"token selector\\">.login</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token property\\">height</span><span class=\\"token punctuation\\">:</span> 100%<span class=\\"token punctuation\\">;</span>\\n  <span class=\\"token property\\">display</span><span class=\\"token punctuation\\">:</span> flex<span class=\\"token punctuation\\">;</span>\\n  <span class=\\"token property\\">justify-content</span><span class=\\"token punctuation\\">:</span> center<span class=\\"token punctuation\\">;</span>\\n  <span class=\\"token property\\">align-items</span><span class=\\"token punctuation\\">:</span> center<span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n</span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>style</span><span class=\\"token punctuation\\">&gt;</span></span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{},"autoDesc":true}`);export{n as data};
