import{_ as a,X as n,Y as s,a2 as t}from"./framework-c2b0d87a.js";const p={},e=t(`<h1 id="照片信息exif" tabindex="-1"><a class="header-anchor" href="#照片信息exif" aria-hidden="true">#</a> 照片信息EXIF</h1><p>EXIF（Exchangeable Image File）是“可交换图像文件”的缩写，当中包含了专门为数码相机的照片而定制的元数据，可以记录数码照片的拍摄参数、缩略图及其他属性信息，简单来说，Exif 信息是镶嵌在 JPEG/TIFF 图像文件格式内的一组拍摄参数，需要注意的是 EXIF 信息是不支持 png,webp 等图片格式的。（建议自己试的时候，现拍一张，把地理位置信息开启，这样得到的是完整的 EXIF 信息）</p><p>简单来说就是当你拍照片的时候会存储你的一些信息，例如拍摄的位置，拍摄的时间，相机参数等，这些信息的泄露也会给我们造成麻烦。</p><p>场景 我们经常在一些聊天软件传输一些照片，例如 WX 你默认传输的时候他是会被压缩体积很小，应为破坏了 EXIF 信息，当你设置了原图传输他将保留你照片的 EXIF 信息别人只要查看就可以读取你照片的信息。</p><h2 id="去第三方解析-exif" tabindex="-1"><a class="header-anchor" href="#去第三方解析-exif" aria-hidden="true">#</a> 去第三方解析 EXIF</h2><p>别人下载了之后，可以通过照片的详细信息看到 EXIF 版本 基本能获取到很多信息例如</p><p>Device Manufacturer（设备制造厂商）-&gt; Apple 苹果</p><p>当然我们的 web js 也是可以读取这些信息的</p><h2 id="exif-js" tabindex="-1"><a class="header-anchor" href="#exif-js" aria-hidden="true">#</a> EXIF-js</h2><p>我们需要一个库的支持 EXIF-js</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.jsdelivr.net/npm/exif-js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>用法很简单</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./noOrigin.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>非原图<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./origin.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>原图<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./2019_03_26_201720.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>原图2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>EXIF.getData(img, callback)获取图像的数据</p><p>EXIF.getTag(img, tag)获取图像的某个数据</p><p>EXIF.getAllTags(img)获取图像的全部数据，值以对象的方式返回</p><p>EXIF.pretty(img)获取图像的全部数据，值以字符串的方式返回</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> file <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#img3&#39;</span><span class="token punctuation">)</span>
<span class="token constant">EXIF</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token constant">EXIF</span><span class="token punctuation">.</span><span class="token function">pretty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="部分参数说明" tabindex="-1"><a class="header-anchor" href="#部分参数说明" aria-hidden="true">#</a> 部分参数说明</h3><p>GPS 相关名称说明</p><p>GPSVersionIDGPS 版本</p><p>GPSLatitudeRef 南北纬</p><p>GPSLatitude 纬度</p><p>GPSLongitudeRef 东西经</p><p>GPSLongitude 经度</p><p>GPSAltitudeRef 海拔参照值</p><p>GPSAltitude 海拔</p><p>GPSTimeStamp GPS 时间戳</p><p>GPSSatellites 测量的卫星</p><p>GPSStatus 接收器状态</p><p>GPSMeasureMode 测量模式</p><p>GPSDOP 测量精度</p><p>GPSSpeedRef 速度单位</p><p>GPSSpeed GPS 接收器速度</p><p>GPSTrackRef 移动方位参照</p><p>GPSTrack 移动方位</p><p>GPSImgDirectionRef 图像方位参照</p><p>GPSImgDirection 图像方位</p><p>GPSMapDatum 地理测量资料</p><p>GPSDestLatitudeRef 目标纬度参照</p><p>GPSDestLatitude 目标纬度 GPSDestLongitudeRef 目标经度参照</p><p>GPSDestLongitude 目标经度</p><p>GPSDestBearingRef 目标方位参照</p><p>GPSDestBearing 目标方位</p><p>GPSDestDistanceRef 目标距离参照</p><p>GPSDestDistance 目标距离</p><p>GPSProcessingMethod</p><p>GPS 处理方法名</p><p>GPSAreaInformation GPS 区功能变数名</p><p>GPSDateStampGPS 日期</p><p>GPSDifferential GPS 修正</p>`,51),o=[e];function c(u,l){return n(),s("div",null,o)}const k=a(p,[["render",c],["__file","03-照片信息EXIF.html.vue"]]);export{k as default};
